"use strict";(()=>{var Pr=Object.create;var de=Object.defineProperty;var Br=Object.getOwnPropertyDescriptor;var br=Object.getOwnPropertyNames;var Or=Object.getPrototypeOf,Mr=Object.prototype.hasOwnProperty;var xt=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var kr=(n,e)=>()=>(n&&(e=n(n=0)),e);var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Nr=(n,e)=>{for(var t in e)de(n,t,{get:e[t],enumerable:!0})},Et=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of br(e))!Mr.call(n,i)&&i!==t&&de(n,i,{get:()=>e[i],enumerable:!(r=Br(e,i))||r.enumerable});return n};var L=(n,e,t)=>(t=n!=null?Pr(Or(n)):{},Et(e||!n||!n.__esModule?de(t,"default",{value:n,enumerable:!0}):t,n)),Tt=n=>Et(de({},"__esModule",{value:!0}),n);var _t=w(ge=>{"use strict";ge.byteLength=Lr;ge.toByteArray=Vr;ge.fromByteArray=Yr;var O=[],_=[],Kr=typeof Uint8Array!="undefined"?Uint8Array:Array,Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(H=0,It=Ve.length;H<It;++H)O[H]=Ve[H],_[Ve.charCodeAt(H)]=H;var H,It;_["-".charCodeAt(0)]=62;_["_".charCodeAt(0)]=63;function Dt(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function Lr(n){var e=Dt(n),t=e[0],r=e[1];return(t+r)*3/4-r}function qr(n,e,t){return(e+t)*3/4-t}function Vr(n){var e,t=Dt(n),r=t[0],i=t[1],o=new Kr(qr(n,r,i)),s=0,a=i>0?r-4:r,u;for(u=0;u<a;u+=4)e=_[n.charCodeAt(u)]<<18|_[n.charCodeAt(u+1)]<<12|_[n.charCodeAt(u+2)]<<6|_[n.charCodeAt(u+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=_[n.charCodeAt(u)]<<2|_[n.charCodeAt(u+1)]>>4,o[s++]=e&255),i===1&&(e=_[n.charCodeAt(u)]<<10|_[n.charCodeAt(u+1)]<<4|_[n.charCodeAt(u+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Hr(n){return O[n>>18&63]+O[n>>12&63]+O[n>>6&63]+O[n&63]}function jr(n,e,t){for(var r,i=[],o=e;o<t;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(Hr(r));return i.join("")}function Yr(n){for(var e,t=n.length,r=t%3,i=[],o=16383,s=0,a=t-r;s<a;s+=o)i.push(jr(n,s,s+o>a?a:s+o));return r===1?(e=n[t-1],i.push(O[e>>2]+O[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(O[e>>10]+O[e>>4&63]+O[e<<2&63]+"=")),i.join("")}});var Rt=w(He=>{He.read=function(n,e,t,r,i){var o,s,a=i*8-r-1,u=(1<<a)-1,f=u>>1,h=-7,l=t?i-1:0,c=t?-1:1,d=n[e+l];for(l+=c,o=d&(1<<-h)-1,d>>=-h,h+=a;h>0;o=o*256+n[e+l],l+=c,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=s*256+n[e+l],l+=c,h-=8);if(o===0)o=1-f;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-f}return(d?-1:1)*s*Math.pow(2,o-r)};He.write=function(n,e,t,r,i,o){var s,a,u,f=o*8-i-1,h=(1<<f)-1,l=h>>1,c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,g=r?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?e+=c/u:e+=c*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=h?(a=0,s=h):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;n[t+d]=a&255,d+=g,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;n[t+d]=s&255,d+=g,s/=256,f-=8);n[t+d-g]|=m*128}});var Pt=w((Eo,Ft)=>{var Wr={}.toString;Ft.exports=Array.isArray||function(n){return Wr.call(n)=="[object Array]"}});var Ce=w(G=>{"use strict";var je=_t(),W=Rt(),Ot=Pt();G.Buffer=p;G.SlowBuffer=$r;G.INSPECT_MAX_BYTES=50;p.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==void 0?global.TYPED_ARRAY_SUPPORT:Gr();G.kMaxLength=ve();function Gr(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42&&typeof n.subarray=="function"&&n.subarray(1,1).byteLength===0}catch{return!1}}function ve(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function k(n,e){if(ve()<e)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e),n.__proto__=p.prototype):(n===null&&(n=new p(e)),n.length=e),n}function p(n,e,t){if(!p.TYPED_ARRAY_SUPPORT&&!(this instanceof p))return new p(n,e,t);if(typeof n=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return We(this,n)}return Mt(this,n,e,t)}p.poolSize=8192;p._augment=function(n){return n.__proto__=p.prototype,n};function Mt(n,e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&e instanceof ArrayBuffer?Xr(n,e,t,r):typeof e=="string"?Zr(n,e,t):zr(n,e)}p.from=function(n,e,t){return Mt(null,n,e,t)};p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0}));function kt(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function Jr(n,e,t,r){return kt(e),e<=0?k(n,e):t!==void 0?typeof r=="string"?k(n,e).fill(t,r):k(n,e).fill(t):k(n,e)}p.alloc=function(n,e,t){return Jr(null,n,e,t)};function We(n,e){if(kt(e),n=k(n,e<0?0:Ge(e)|0),!p.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}p.allocUnsafe=function(n){return We(null,n)};p.allocUnsafeSlow=function(n){return We(null,n)};function Zr(n,e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!p.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=Nt(e,t)|0;n=k(n,r);var i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function Ye(n,e){var t=e.length<0?0:Ge(e.length)|0;n=k(n,t);for(var r=0;r<t;r+=1)n[r]=e[r]&255;return n}function Xr(n,e,t,r){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");return t===void 0&&r===void 0?e=new Uint8Array(e):r===void 0?e=new Uint8Array(e,t):e=new Uint8Array(e,t,r),p.TYPED_ARRAY_SUPPORT?(n=e,n.__proto__=p.prototype):n=Ye(n,e),n}function zr(n,e){if(p.isBuffer(e)){var t=Ge(e.length)|0;return n=k(n,t),n.length===0||e.copy(n,0,0,t),n}if(e){if(typeof ArrayBuffer!="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||yn(e.length)?k(n,0):Ye(n,e);if(e.type==="Buffer"&&Ot(e.data))return Ye(n,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Ge(n){if(n>=ve())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ve().toString(16)+" bytes");return n|0}function $r(n){return+n!=n&&(n=0),p.alloc(+n)}p.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};p.compare=function(e,t){if(!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,i=t.length,o=0,s=Math.min(r,i);o<s;++o)if(e[o]!==t[o]){r=e[o],i=t[o];break}return r<i?-1:i<r?1:0};p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(e,t){if(!Ot(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return p.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=p.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!p.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i};function Nt(n,e){if(p.isBuffer(n))return n.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var t=n.length;if(t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return me(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Yt(n).length;default:if(r)return me(n).length;e=(""+e).toLowerCase(),r=!0}}p.byteLength=Nt;function Qr(n,e,t){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return hn(this,e,t);case"utf8":case"utf-8":return qt(this,e,t);case"ascii":return un(this,e,t);case"latin1":case"binary":return fn(this,e,t);case"base64":return sn(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}p.prototype._isBuffer=!0;function j(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}p.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)j(this,t,t+1);return this};p.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)j(this,t,t+3),j(this,t+1,t+2);return this};p.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)j(this,t,t+7),j(this,t+1,t+6),j(this,t+2,t+5),j(this,t+3,t+4);return this};p.prototype.toString=function(){var e=this.length|0;return e===0?"":arguments.length===0?qt(this,0,e):Qr.apply(this,arguments)};p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:p.compare(this,e)===0};p.prototype.inspect=function(){var e="",t=G.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"};p.prototype.compare=function(e,t,r,i,o){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),t<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=r)return 0;if(i>=o)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var s=o-i,a=r-t,u=Math.min(s,a),f=this.slice(i,o),h=e.slice(t,r),l=0;l<u;++l)if(f[l]!==h[l]){s=f[l],a=h[l];break}return s<a?-1:a<s?1:0};function Kt(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=p.from(e,r)),p.isBuffer(e))return e.length===0?-1:Bt(n,e,t,r,i);if(typeof e=="number")return e=e&255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):Bt(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function Bt(n,e,t,r,i){var o=1,s=n.length,a=e.length;if(r!==void 0&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;o=2,s/=2,a/=2,t/=2}function u(d,g){return o===1?d[g]:d.readUInt16BE(g*o)}var f;if(i){var h=-1;for(f=t;f<s;f++)if(u(n,f)===u(e,h===-1?0:f-h)){if(h===-1&&(h=f),f-h+1===a)return h*o}else h!==-1&&(f-=f-h),h=-1}else for(t+a>s&&(t=s-a),f=t;f>=0;f--){for(var l=!0,c=0;c<a;c++)if(u(n,f+c)!==u(e,c)){l=!1;break}if(l)return f}return-1}p.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1};p.prototype.indexOf=function(e,t,r){return Kt(this,e,t,r,!0)};p.prototype.lastIndexOf=function(e,t,r){return Kt(this,e,t,r,!1)};function en(n,e,t,r){t=Number(t)||0;var i=n.length-t;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(s*2,2),16);if(isNaN(a))return s;n[t+s]=a}return s}function tn(n,e,t,r){return we(me(e,n.length-t),n,t,r)}function Lt(n,e,t,r){return we(vn(e),n,t,r)}function rn(n,e,t,r){return Lt(n,e,t,r)}function nn(n,e,t,r){return we(Yt(e),n,t,r)}function on(n,e,t,r){return we(mn(e,n.length-t),n,t,r)}p.prototype.write=function(e,t,r,i){if(t===void 0)i="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")i=t,r=this.length,t=0;else if(isFinite(t))t=t|0,isFinite(r)?(r=r|0,i===void 0&&(i="utf8")):(i=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return en(this,e,t,r);case"utf8":case"utf-8":return tn(this,e,t,r);case"ascii":return Lt(this,e,t,r);case"latin1":case"binary":return rn(this,e,t,r);case"base64":return nn(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return on(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function sn(n,e,t){return e===0&&t===n.length?je.fromByteArray(n):je.fromByteArray(n.slice(e,t))}function qt(n,e,t){t=Math.min(n.length,t);for(var r=[],i=e;i<t;){var o=n[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=t){var u,f,h,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=n[i+1],(u&192)===128&&(l=(o&31)<<6|u&63,l>127&&(s=l));break;case 3:u=n[i+1],f=n[i+2],(u&192)===128&&(f&192)===128&&(l=(o&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=n[i+1],f=n[i+2],h=n[i+3],(u&192)===128&&(f&192)===128&&(h&192)===128&&(l=(o&15)<<18|(u&63)<<12|(f&63)<<6|h&63,l>65535&&l<1114112&&(s=l))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|s&1023),r.push(s),i+=a}return an(r)}var bt=4096;function an(n){var e=n.length;if(e<=bt)return String.fromCharCode.apply(String,n);for(var t="",r=0;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=bt));return t}function un(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(n[i]&127);return r}function fn(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function hn(n,e,t){var r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);for(var i="",o=e;o<t;++o)i+=gn(n[o]);return i}function cn(n,e,t){for(var r=n.slice(e,t),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+r[o+1]*256);return i}p.prototype.slice=function(e,t){var r=this.length;e=~~e,t=t===void 0?r:~~t,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),t<e&&(t=e);var i;if(p.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=p.prototype;else{var o=t-e;i=new p(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+e]}return i};function U(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function(e,t,r){e=e|0,t=t|0,r||U(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return i};p.prototype.readUIntBE=function(e,t,r){e=e|0,t=t|0,r||U(e,t,this.length);for(var i=this[e+--t],o=1;t>0&&(o*=256);)i+=this[e+--t]*o;return i};p.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]};p.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8};p.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]};p.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};p.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};p.prototype.readIntLE=function(e,t,r){e=e|0,t=t|0,r||U(e,t,this.length);for(var i=this[e],o=1,s=0;++s<t&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i};p.prototype.readIntBE=function(e,t,r){e=e|0,t=t|0,r||U(e,t,this.length);for(var i=t,o=1,s=this[e+--i];i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*t)),s};p.prototype.readInt8=function(e,t){return t||U(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};p.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return r&32768?r|4294901760:r};p.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return r&32768?r|4294901760:r};p.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};p.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};p.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),W.read(this,e,!0,23,4)};p.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),W.read(this,e,!1,23,4)};p.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),W.read(this,e,!0,52,8)};p.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),W.read(this,e,!1,52,8)};function D(n,e,t,r,i,o){if(!p.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function(e,t,r,i){if(e=+e,t=t|0,r=r|0,!i){var o=Math.pow(2,8*r)-1;D(this,e,t,r,o,0)}var s=1,a=0;for(this[t]=e&255;++a<r&&(s*=256);)this[t+a]=e/s&255;return t+r};p.prototype.writeUIntBE=function(e,t,r,i){if(e=+e,t=t|0,r=r|0,!i){var o=Math.pow(2,8*r)-1;D(this,e,t,r,o,0)}var s=r-1,a=1;for(this[t+s]=e&255;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+r};p.prototype.writeUInt8=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,1,255,0),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e&255,t+1};function ye(n,e,t,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(n.length-t,2);i<o;++i)n[t+i]=(e&255<<8*(r?i:1-i))>>>(r?i:1-i)*8}p.prototype.writeUInt16LE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):ye(this,e,t,!0),t+2};p.prototype.writeUInt16BE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):ye(this,e,t,!1),t+2};function Se(n,e,t,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(n.length-t,4);i<o;++i)n[t+i]=e>>>(r?i:3-i)*8&255}p.prototype.writeUInt32LE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255):Se(this,e,t,!0),t+4};p.prototype.writeUInt32BE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Se(this,e,t,!1),t+4};p.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t=t|0,!i){var o=Math.pow(2,8*r-1);D(this,e,t,r,o-1,-o)}var s=0,a=1,u=0;for(this[t]=e&255;++s<r&&(a*=256);)e<0&&u===0&&this[t+s-1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+r};p.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t=t|0,!i){var o=Math.pow(2,8*r-1);D(this,e,t,r,o-1,-o)}var s=r-1,a=1,u=0;for(this[t+s]=e&255;--s>=0&&(a*=256);)e<0&&u===0&&this[t+s+1]!==0&&(u=1),this[t+s]=(e/a>>0)-u&255;return t+r};p.prototype.writeInt8=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,1,127,-128),p.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=e&255,t+1};p.prototype.writeInt16LE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8):ye(this,e,t,!0),t+2};p.prototype.writeInt16BE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e&255):ye(this,e,t,!1),t+2};p.prototype.writeInt32LE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):Se(this,e,t,!0),t+4};p.prototype.writeInt32BE=function(e,t,r){return e=+e,t=t|0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),p.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255):Se(this,e,t,!1),t+4};function Vt(n,e,t,r,i,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Ht(n,e,t,r,i){return i||Vt(n,e,t,4,34028234663852886e22,-34028234663852886e22),W.write(n,e,t,r,23,4),t+4}p.prototype.writeFloatLE=function(e,t,r){return Ht(this,e,t,!0,r)};p.prototype.writeFloatBE=function(e,t,r){return Ht(this,e,t,!1,r)};function jt(n,e,t,r,i){return i||Vt(n,e,t,8,17976931348623157e292,-17976931348623157e292),W.write(n,e,t,r,52,8),t+8}p.prototype.writeDoubleLE=function(e,t,r){return jt(this,e,t,!0,r)};p.prototype.writeDoubleBE=function(e,t,r){return jt(this,e,t,!1,r)};p.prototype.copy=function(e,t,r,i){if(r||(r=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var o=i-r,s;if(this===e&&r<t&&t<i)for(s=o-1;s>=0;--s)e[s+t]=this[s+r];else if(o<1e3||!p.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o};p.prototype.fill=function(e,t,r,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,r=this.length):typeof r=="string"&&(i=r,r=this.length),e.length===1){var o=e.charCodeAt(0);o<256&&(e=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof e=="number"&&(e=e&255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t=t>>>0,r=r===void 0?this.length:r>>>0,e||(e=0);var s;if(typeof e=="number")for(s=t;s<r;++s)this[s]=e;else{var a=p.isBuffer(e)?e:me(new p(e,i).toString()),u=a.length;for(s=0;s<r-t;++s)this[s+t]=a[s%u]}return this};var ln=/[^+\/0-9A-Za-z-_]/g;function pn(n){if(n=dn(n).replace(ln,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function dn(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function gn(n){return n<16?"0"+n.toString(16):n.toString(16)}function me(n,e){e=e||1/0;for(var t,r=n.length,i=null,o=[],s=0;s<r;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return o}function vn(n){for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function mn(n,e){for(var t,r,i,o=[],s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),r=t>>8,i=t%256,o.push(i),o.push(r);return o}function Yt(n){return je.toByteArray(pn(n))}function we(n,e,t,r){for(var i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function yn(n){return n!==n}});var Wt=w(()=>{});var Qe={};Nr(Qe,{__assign:()=>ze,__asyncDelegator:()=>Pn,__asyncGenerator:()=>Fn,__asyncValues:()=>Bn,__await:()=>re,__awaiter:()=>En,__classPrivateFieldGet:()=>kn,__classPrivateFieldSet:()=>Nn,__createBinding:()=>In,__decorate:()=>An,__exportStar:()=>Dn,__extends:()=>wn,__generator:()=>Tn,__importDefault:()=>Mn,__importStar:()=>On,__makeTemplateObject:()=>bn,__metadata:()=>xn,__param:()=>Un,__read:()=>Gt,__rest:()=>Cn,__spread:()=>_n,__spreadArrays:()=>Rn,__values:()=>$e});function wn(n,e){Xe(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Cn(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function An(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function Un(n,e){return function(t,r){e(t,r,n)}}function xn(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function En(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{f(r.next(h))}catch(l){s(l)}}function u(h){try{f(r.throw(h))}catch(l){s(l)}}function f(h){h.done?o(h.value):i(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function Tn(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(f){return function(h){return u([f,h])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,i=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(h){f=[6,h],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function In(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function Dn(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function $e(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function _n(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Gt(arguments[e]));return n}function Rn(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function re(n){return this instanceof re?(this.v=n,this):new re(n)}function Fn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(c){r[c]&&(i[c]=function(d){return new Promise(function(g,m){o.push([c,d,g,m])>1||a(c,d)})})}function a(c,d){try{u(r[c](d))}catch(g){l(o[0][3],g)}}function u(c){c.value instanceof re?Promise.resolve(c.value.v).then(f,h):l(o[0][2],c)}function f(c){a("next",c)}function h(c){a("throw",c)}function l(c,d){c(d),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Pn(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:re(n[i](s)),done:i==="return"}:o?o(s):s}:o}}function Bn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $e=="function"?$e(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(f){o({value:f,done:a})},s)}}function bn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function On(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Mn(n){return n&&n.__esModule?n:{default:n}}function kn(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function Nn(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Xe,ze,et=kr(()=>{Xe=function(n,e){return Xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},Xe(n,e)};ze=function(){return ze=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ze.apply(this,arguments)}});var tt=w(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.MAX_HASHABLE_LENGTH=F.INIT=F.KEY=F.DIGEST_LENGTH=F.BLOCK_SIZE=void 0;F.BLOCK_SIZE=64;F.DIGEST_LENGTH=32;F.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);F.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];F.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1});var Jt=w(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.RawSha256=void 0;var P=tt(),Kn=function(){function n(){this.state=Int32Array.from(P.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return n.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>P.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===P.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},n.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%P.BLOCK_SIZE>=P.BLOCK_SIZE-8){for(var i=this.bufferLength;i<P.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<P.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(P.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(P.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(P.DIGEST_LENGTH),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},n.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,r=e.state,i=r[0],o=r[1],s=r[2],a=r[3],u=r[4],f=r[5],h=r[6],l=r[7],c=0;c<P.BLOCK_SIZE;c++){if(c<16)this.temp[c]=(t[c*4]&255)<<24|(t[c*4+1]&255)<<16|(t[c*4+2]&255)<<8|t[c*4+3]&255;else{var d=this.temp[c-2],g=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10;d=this.temp[c-15];var m=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[c]=(g+this.temp[c-7]|0)+(m+this.temp[c-16]|0)}var S=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&f^~u&h)|0)+(l+(P.KEY[c]+this.temp[c]|0)|0)|0,y=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;l=h,h=f,f=u,u=a+S|0,a=s,s=o,o=i,i=S+y|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=a,r[4]+=u,r[5]+=f,r[6]+=h,r[7]+=l},n}();Ae.RawSha256=Kn});var Zt=w(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.toUtf8=J.fromUtf8=void 0;var Ln=n=>{let e=[];for(let t=0,r=n.length;t<r;t++){let i=n.charCodeAt(t);if(i<128)e.push(i);else if(i<2048)e.push(i>>6|192,i&63|128);else if(t+1<n.length&&(i&64512)===55296&&(n.charCodeAt(t+1)&64512)===56320){let o=65536+((i&1023)<<10)+(n.charCodeAt(++t)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(e)};J.fromUtf8=Ln;var qn=n=>{let e="";for(let t=0,r=n.length;t<r;t++){let i=n[t];if(i<128)e+=String.fromCharCode(i);else if(192<=i&&i<224){let o=n[++t];e+=String.fromCharCode((i&31)<<6|o&63)}else if(240<=i&&i<365){let s="%"+[i,n[++t],n[++t],n[++t]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(s)}else e+=String.fromCharCode((i&15)<<12|(n[++t]&63)<<6|n[++t]&63)}return e};J.toUtf8=qn});var Xt=w(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.toUtf8=Z.fromUtf8=void 0;function Vn(n){return new TextEncoder().encode(n)}Z.fromUtf8=Vn;function Hn(n){return new TextDecoder("utf-8").decode(n)}Z.toUtf8=Hn});var Qt=w(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.toUtf8=X.fromUtf8=void 0;var zt=Zt(),$t=Xt(),jn=n=>typeof TextEncoder=="function"?(0,$t.fromUtf8)(n):(0,zt.fromUtf8)(n);X.fromUtf8=jn;var Yn=n=>typeof TextDecoder=="function"?(0,$t.toUtf8)(n):(0,zt.toUtf8)(n);X.toUtf8=Yn});var er=w(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.convertToBuffer=void 0;var Wn=Qt(),Gn=typeof Buffer!="undefined"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:Wn.fromUtf8;function Jn(n){return n instanceof Uint8Array?n:typeof n=="string"?Gn(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}Ue.convertToBuffer=Jn});var tr=w(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.isEmptyData=void 0;function Zn(n){return typeof n=="string"?n.length===0:n.byteLength===0}xe.isEmptyData=Zn});var rr=w(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.numToUint8=void 0;function Xn(n){return new Uint8Array([(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255])}Ee.numToUint8=Xn});var nr=w(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.uint32ArrayFrom=void 0;function zn(n){if(!Array.from){for(var e=new Uint32Array(n.length),t=0;t<n.length;)e[t]=n[t];return e}return Uint32Array.from(n)}Te.uint32ArrayFrom=zn});var ir=w(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.uint32ArrayFrom=M.numToUint8=M.isEmptyData=M.convertToBuffer=void 0;var $n=er();Object.defineProperty(M,"convertToBuffer",{enumerable:!0,get:function(){return $n.convertToBuffer}});var Qn=tr();Object.defineProperty(M,"isEmptyData",{enumerable:!0,get:function(){return Qn.isEmptyData}});var ei=rr();Object.defineProperty(M,"numToUint8",{enumerable:!0,get:function(){return ei.numToUint8}});var ti=nr();Object.defineProperty(M,"uint32ArrayFrom",{enumerable:!0,get:function(){return ti.uint32ArrayFrom}})});var sr=w(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.Sha256=void 0;var or=(et(),Tt(Qe)),Ie=tt(),rt=Jt(),nt=ir(),ri=function(){function n(e){if(this.hash=new rt.RawSha256,e){this.outer=new rt.RawSha256;var t=ni(e),r=new Uint8Array(Ie.BLOCK_SIZE);r.set(t);for(var i=0;i<Ie.BLOCK_SIZE;i++)t[i]^=54,r[i]^=92;this.hash.update(t),this.outer.update(r);for(var i=0;i<t.byteLength;i++)t[i]=0}}return n.prototype.update=function(e){if(!((0,nt.isEmptyData)(e)||this.error))try{this.hash.update((0,nt.convertToBuffer)(e))}catch(t){this.error=t}},n.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},n.prototype.digest=function(){return(0,or.__awaiter)(this,void 0,void 0,function(){return(0,or.__generator)(this,function(e){return[2,this.digestSync()]})})},n}();De.Sha256=ri;function ni(n){var e=(0,nt.convertToBuffer)(n);if(e.byteLength>Ie.BLOCK_SIZE){var t=new rt.RawSha256;t.update(e),e=t.digest()}var r=new Uint8Array(Ie.BLOCK_SIZE);return r.set(e),r}});var ot=w(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});var ii=(et(),Tt(Qe));(0,ii.__exportStar)(sr(),it)});var gt=w((Ss,dr)=>{dr.exports=function(n,e){return e=e||{},new Promise(function(t,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(h){return a[h.toLowerCase()]},has:function(h){return h.toLowerCase()in a}}}};for(var f in i.open(e.method||"get",n,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(h,l,c){o.push(l=l.toLowerCase()),s.push([l,c]),a[l]=a[l]?a[l]+","+c:c}),t(u())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(f,e.headers[f]);i.send(e.body||null)})}});var vr=w((ws,gr)=>{gr.exports=self.fetch||(self.fetch=gt().default||gt())});var Ar=w((wr,Cr)=>{(function(n){var e;if(typeof define=="function"&&define.amd&&(define(n),e=!0),typeof wr=="object"&&(Cr.exports=n(),e=!0),!e){var t=window.Cookies,r=window.Cookies=n();r.noConflict=function(){return window.Cookies=t,r}}})(function(){function n(){for(var r=0,i={};r<arguments.length;r++){var o=arguments[r];for(var s in o)i[s]=o[s]}return i}function e(r){return r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function t(r){function i(){}function o(a,u,f){if(typeof document!="undefined"){f=n({path:"/"},i.defaults,f),typeof f.expires=="number"&&(f.expires=new Date(new Date*1+f.expires*864e5)),f.expires=f.expires?f.expires.toUTCString():"";try{var h=JSON.stringify(u);/^[\{\[]/.test(h)&&(u=h)}catch{}u=r.write?r.write(u,a):encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),a=encodeURIComponent(String(a)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var c in f)f[c]&&(l+="; "+c,f[c]!==!0&&(l+="="+f[c].split(";")[0]));return document.cookie=a+"="+u+l}}function s(a,u){if(typeof document!="undefined"){for(var f={},h=document.cookie?document.cookie.split("; "):[],l=0;l<h.length;l++){var c=h[l].split("="),d=c.slice(1).join("=");!u&&d.charAt(0)==='"'&&(d=d.slice(1,-1));try{var g=e(c[0]);if(d=(r.read||r)(d,g)||e(d),u)try{d=JSON.parse(d)}catch{}if(f[g]=d,a===g)break}catch{}}return a?f[a]:f}}return i.set=o,i.get=function(a){return s(a,!1)},i.getJSON=function(a){return s(a,!0)},i.remove=function(a,u){o(a,"",n(u,{expires:-1}))},i.defaults={},i.withConverter=t,i}return t(function(){})})});var xr=w(wt=>{"use strict";wt.parse=fo;wt.serialize=ho;var ao=decodeURIComponent,uo=encodeURIComponent,Le=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function fo(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},i=n.split(";"),o=r.decode||ao,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var f=a.substring(0,u).trim();if(t[f]==null){var h=a.substring(u+1,a.length).trim();h[0]==='"'&&(h=h.slice(1,-1)),t[f]=co(h,o)}}}return t}function ho(n,e,t){var r=t||{},i=r.encode||uo;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!Le.test(n))throw new TypeError("argument name is invalid");var o=i(e);if(o&&!Le.test(o))throw new TypeError("argument val is invalid");var s=n+"="+o;if(r.maxAge!=null){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!Le.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Le.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var u=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(u){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function co(n,e){try{return e(n)}catch{return n}}});var _r=w(A=>{"use strict";var te=A&&A.__assign||function(){return te=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},te.apply(this,arguments)},Er=A&&A.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};Object.defineProperty(A,"__esModule",{value:!0});A.hasCookie=A.deleteCookie=A.setCookie=A.getCookie=A.getCookies=void 0;var At=xr(),Ir=function(){return typeof window!="undefined"},Tr=function(n){return n?"set"in n&&typeof n.getAll=="function"&&typeof n.set=="function":!1},Dr=function(n){return!!(n!=null&&n.req)&&"cookies"in n.req&&Tr(n==null?void 0:n.req.cookies)||!!(n!=null&&n.res)&&"cookies"in n.res&&Tr(n==null?void 0:n.res.cookies)},lo=function(n){var e={};return n.getAll().forEach(function(t){var r=t.name,i=t.value;e[r]=i}),e},Ct=function(n){n===void 0&&(n="");try{var e=JSON.stringify(n);return/^[\{\[]/.test(e)?e:n}catch{return n}},po=function(n){return n&&n.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)},go=function(n){if(Dr(n)&&(n!=null&&n.req))return lo(n.req.cookies);var e;if(n&&(e=n.req),!Ir())return e&&e.cookies?e.cookies:e&&e.headers.cookie?(0,At.parse)(e.headers.cookie):{};for(var t={},r=document.cookie?document.cookie.split("; "):[],i=0,o=r.length;i<o;i++){var s=r[i].split("="),a=s.slice(1).join("="),u=s[0];t[u]=a}return t};A.getCookies=go;var vo=function(n,e){var t=(0,A.getCookies)(e),r=t[n];if(r!==void 0)return po(r)};A.getCookie=vo;var mo=function(n,e,t){if(Dr(t)){var r=t.req,i=t.res,o=Er(t,["req","res"]),s=te({name:n,value:e},o);r&&r.cookies.set(s),i&&i.cookies.set(s);return}var a,u,f;if(t){var h=t,r=h.req,i=h.res,l=Er(h,["req","res"]);u=r,f=i,a=l}var c=(0,At.serialize)(n,Ct(e),te({path:"/"},a));if(Ir())document.cookie=c;else if(f&&u){var d=f.getHeader("Set-Cookie");if(Array.isArray(d)||(d=d?[String(d)]:[]),f.setHeader("Set-Cookie",d.concat(c)),u&&u.cookies){var g=u.cookies;e===""?delete g[n]:g[n]=Ct(e)}if(u&&u.headers&&u.headers.cookie){var g=(0,At.parse)(u.headers.cookie);e===""?delete g[n]:g[n]=Ct(e),u.headers.cookie=Object.entries(g).reduce(function(S,y){return S.concat("".concat(y[0],"=").concat(y[1],";"))},"")}}};A.setCookie=mo;var yo=function(n,e){return(0,A.setCookie)(n,"",te(te({},e),{maxAge:-1}))};A.deleteCookie=yo;var So=function(n,e){if(!n)return!1;var t=(0,A.getCookies)(e);return t.hasOwnProperty(n)};A.hasCookie=So});var N=L(Ce());var R;typeof window!="undefined"&&window.crypto&&(R=window.crypto);!R&&typeof window!="undefined"&&window.msCrypto&&(R=window.msCrypto);!R&&typeof global!="undefined"&&global.crypto&&(R=global.crypto);if(!R&&typeof xt=="function")try{R=Wt()}catch{}function Je(){if(R){if(typeof R.getRandomValues=="function")try{return R.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof R.randomBytes=="function")try{return R.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")}function Sn(n){for(var e=n.words,t=n.sigBytes,r=[],i=0;i<t;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((o&15).toString(16))}return r.join("")}var Ze=function(){function n(t,r){t=this.words=t||[],r!=null?this.sigBytes=r:this.sigBytes=t.length*4}var e=n.prototype;return e.random=function(r){for(var i=[],o=0;o<r;o+=4)i.push(Je());return new n(i,r)},e.toString=function(){return Sn(this)},n}();var Re=L(ot());var C=v;function v(n,e){n!=null&&this.fromString(n,e)}function T(){return new v(null)}var q,oi=0xdeadbeefcafe,ar=(oi&16777215)==15715070;function si(n,e,t,r,i,o){for(;--o>=0;){var s=e*this[n++]+t[r]+i;i=Math.floor(s/67108864),t[r++]=s&67108863}return i}function ai(n,e,t,r,i,o){for(var s=e&32767,a=e>>15;--o>=0;){var u=this[n]&32767,f=this[n++]>>15,h=a*u+f*s;u=s*u+((h&32767)<<15)+t[r]+(i&1073741823),i=(u>>>30)+(h>>>15)+a*f+(i>>>30),t[r++]=u&1073741823}return i}function ui(n,e,t,r,i,o){for(var s=e&16383,a=e>>14;--o>=0;){var u=this[n]&16383,f=this[n++]>>14,h=a*u+f*s;u=s*u+((h&16383)<<14)+t[r]+i,i=(u>>28)+(h>>14)+a*f,t[r++]=u&268435455}return i}var ur=typeof navigator!="undefined";ur&&ar&&navigator.appName=="Microsoft Internet Explorer"?(v.prototype.am=ai,q=30):ur&&ar&&navigator.appName!="Netscape"?(v.prototype.am=si,q=26):(v.prototype.am=ui,q=28);v.prototype.DB=q;v.prototype.DM=(1<<q)-1;v.prototype.DV=1<<q;var st=52;v.prototype.FV=Math.pow(2,st);v.prototype.F1=st-q;v.prototype.F2=2*q-st;var fi="0123456789abcdefghijklmnopqrstuvwxyz",_e=new Array,z,B;z="0".charCodeAt(0);for(B=0;B<=9;++B)_e[z++]=B;z="a".charCodeAt(0);for(B=10;B<36;++B)_e[z++]=B;z="A".charCodeAt(0);for(B=10;B<36;++B)_e[z++]=B;function fr(n){return fi.charAt(n)}function hi(n,e){var t=_e[n.charCodeAt(e)];return t==null?-1:t}function ci(n){for(var e=this.t-1;e>=0;--e)n[e]=this[e];n.t=this.t,n.s=this.s}function li(n){this.t=1,this.s=n<0?-1:0,n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0}function at(n){var e=T();return e.fromInt(n),e}function pi(n,e){var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var r=n.length,i=!1,o=0;--r>=0;){var s=hi(n,r);if(s<0){n.charAt(r)=="-"&&(i=!0);continue}i=!1,o==0?this[this.t++]=s:o+t>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=t,o>=this.DB&&(o-=this.DB)}this.clamp(),i&&v.ZERO.subTo(this,this)}function di(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t}function gi(n){if(this.s<0)return"-"+this.negate().toString(n);var e;if(n==16)e=4;else if(n==8)e=3;else if(n==2)e=1;else if(n==32)e=5;else if(n==4)e=2;else throw new Error("Only radix 2, 4, 8, 16, 32 are supported");var t=(1<<e)-1,r,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=fr(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&t,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=fr(r));return i?o:"0"}function vi(){var n=T();return v.ZERO.subTo(this,n),n}function mi(){return this.s<0?this.negate():this}function yi(n){var e=this.s-n.s;if(e!=0)return e;var t=this.t;if(e=t-n.t,e!=0)return this.s<0?-e:e;for(;--t>=0;)if((e=this[t]-n[t])!=0)return e;return 0}function ut(n){var e=1,t;return(t=n>>>16)!=0&&(n=t,e+=16),(t=n>>8)!=0&&(n=t,e+=8),(t=n>>4)!=0&&(n=t,e+=4),(t=n>>2)!=0&&(n=t,e+=2),(t=n>>1)!=0&&(n=t,e+=1),e}function Si(){return this.t<=0?0:this.DB*(this.t-1)+ut(this[this.t-1]^this.s&this.DM)}function wi(n,e){var t;for(t=this.t-1;t>=0;--t)e[t+n]=this[t];for(t=n-1;t>=0;--t)e[t]=0;e.t=this.t+n,e.s=this.s}function Ci(n,e){for(var t=n;t<this.t;++t)e[t-n]=this[t];e.t=Math.max(this.t-n,0),e.s=this.s}function Ai(n,e){var t=n%this.DB,r=this.DB-t,i=(1<<r)-1,o=Math.floor(n/this.DB),s=this.s<<t&this.DM,a;for(a=this.t-1;a>=0;--a)e[a+o+1]=this[a]>>r|s,s=(this[a]&i)<<t;for(a=o-1;a>=0;--a)e[a]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Ui(n,e){e.s=this.s;var t=Math.floor(n/this.DB);if(t>=this.t){e.t=0;return}var r=n%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[t]>>r;for(var s=t+1;s<this.t;++s)e[s-t-1]|=(this[s]&o)<<i,e[s-t]=this[s]>>r;r>0&&(e[this.t-t-1]|=(this.s&o)<<i),e.t=this.t-t,e.clamp()}function xi(n,e){for(var t=0,r=0,i=Math.min(n.t,this.t);t<i;)r+=this[t]-n[t],e[t++]=r&this.DM,r>>=this.DB;if(n.t<this.t){for(r-=n.s;t<this.t;)r+=this[t],e[t++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;t<n.t;)r-=n[t],e[t++]=r&this.DM,r>>=this.DB;r-=n.s}e.s=r<0?-1:0,r<-1?e[t++]=this.DV+r:r>0&&(e[t++]=r),e.t=t,e.clamp()}function Ei(n,e){var t=this.abs(),r=n.abs(),i=t.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+t.t]=t.am(0,r[i],e,i,0,t.t);e.s=0,e.clamp(),this.s!=n.s&&v.ZERO.subTo(e,e)}function Ti(n){for(var e=this.abs(),t=n.t=2*e.t;--t>=0;)n[t]=0;for(t=0;t<e.t-1;++t){var r=e.am(t,e[t],n,2*t,0,1);(n[t+e.t]+=e.am(t+1,2*e[t],n,2*t+1,r,e.t-t-1))>=e.DV&&(n[t+e.t]-=e.DV,n[t+e.t+1]=1)}n.t>0&&(n[n.t-1]+=e.am(t,e[t],n,2*t,0,1)),n.s=0,n.clamp()}function Ii(n,e,t){var r=n.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t){e!=null&&e.fromInt(0),t!=null&&this.copyTo(t);return}t==null&&(t=T());var o=T(),s=this.s,a=n.s,u=this.DB-ut(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,t)):(r.copyTo(o),i.copyTo(t));var f=o.t,h=o[f-1];if(h!=0){var l=h*(1<<this.F1)+(f>1?o[f-2]>>this.F2:0),c=this.FV/l,d=(1<<this.F1)/l,g=1<<this.F2,m=t.t,S=m-f,y=e==null?T():e;for(o.dlShiftTo(S,y),t.compareTo(y)>=0&&(t[t.t++]=1,t.subTo(y,t)),v.ONE.dlShiftTo(f,y),y.subTo(o,o);o.t<f;)o[o.t++]=0;for(;--S>=0;){var I=t[--m]==h?this.DM:Math.floor(t[m]*c+(t[m-1]+g)*d);if((t[m]+=o.am(0,I,t,S,0,f))<I)for(o.dlShiftTo(S,y),t.subTo(y,t);t[m]<--I;)t.subTo(y,t)}e!=null&&(t.drShiftTo(f,e),s!=a&&v.ZERO.subTo(e,e)),t.t=f,t.clamp(),u>0&&t.rShiftTo(u,t),s<0&&v.ZERO.subTo(t,t)}}}function Di(n){var e=T();return this.abs().divRemTo(n,null,e),this.s<0&&e.compareTo(v.ZERO)>0&&n.subTo(e,e),e}function _i(){if(this.t<1)return 0;var n=this[0];if(!(n&1))return 0;var e=n&3;return e=e*(2-(n&15)*e)&15,e=e*(2-(n&255)*e)&255,e=e*(2-((n&65535)*e&65535))&65535,e=e*(2-n*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Ri(n){return this.compareTo(n)==0}function Fi(n,e){for(var t=0,r=0,i=Math.min(n.t,this.t);t<i;)r+=this[t]+n[t],e[t++]=r&this.DM,r>>=this.DB;if(n.t<this.t){for(r+=n.s;t<this.t;)r+=this[t],e[t++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;t<n.t;)r+=n[t],e[t++]=r&this.DM,r>>=this.DB;r+=n.s}e.s=r<0?-1:0,r>0?e[t++]=r:r<-1&&(e[t++]=this.DV+r),e.t=t,e.clamp()}function Pi(n){var e=T();return this.addTo(n,e),e}function Bi(n){var e=T();return this.subTo(n,e),e}function bi(n){var e=T();return this.multiplyTo(n,e),e}function Oi(n){var e=T();return this.divRemTo(n,e,null),e}function $(n){this.m=n,this.mp=n.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<n.DB-15)-1,this.mt2=2*n.t}function Mi(n){var e=T();return n.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),n.s<0&&e.compareTo(v.ZERO)>0&&this.m.subTo(e,e),e}function ki(n){var e=T();return n.copyTo(e),this.reduce(e),e}function Ni(n){for(;n.t<=this.mt2;)n[n.t++]=0;for(var e=0;e<this.m.t;++e){var t=n[e]&32767,r=t*this.mpl+((t*this.mph+(n[e]>>15)*this.mpl&this.um)<<15)&n.DM;for(t=e+this.m.t,n[t]+=this.m.am(0,r,n,e,0,this.m.t);n[t]>=n.DV;)n[t]-=n.DV,n[++t]++}n.clamp(),n.drShiftTo(this.m.t,n),n.compareTo(this.m)>=0&&n.subTo(this.m,n)}function Ki(n,e){n.squareTo(e),this.reduce(e)}function Li(n,e,t){n.multiplyTo(e,t),this.reduce(t)}$.prototype.convert=Mi;$.prototype.revert=ki;$.prototype.reduce=Ni;$.prototype.mulTo=Li;$.prototype.sqrTo=Ki;function qi(n,e,t){var r=n.bitLength(),i,o=at(1),s=new $(e);if(r<=0)return o;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6;var a=new Array,u=3,f=i-1,h=(1<<i)-1;if(a[1]=s.convert(this),i>1){var l=T();for(s.sqrTo(a[1],l);u<=h;)a[u]=T(),s.mulTo(l,a[u-2],a[u]),u+=2}var c=n.t-1,d,g=!0,m=T(),S;for(r=ut(n[c])-1;c>=0;){for(r>=f?d=n[c]>>r-f&h:(d=(n[c]&(1<<r+1)-1)<<f-r,c>0&&(d|=n[c-1]>>this.DB+r-f)),u=i;!(d&1);)d>>=1,--u;if((r-=u)<0&&(r+=this.DB,--c),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,m),s.sqrTo(m,o),u-=2;u>0?s.sqrTo(o,m):(S=o,o=m,m=S),s.mulTo(m,a[d],o)}for(;c>=0&&!(n[c]&1<<r);)s.sqrTo(o,m),S=o,o=m,m=S,--r<0&&(r=this.DB-1,--c)}var y=s.revert(o);return t(null,y),y}v.prototype.copyTo=ci;v.prototype.fromInt=li;v.prototype.fromString=pi;v.prototype.clamp=di;v.prototype.dlShiftTo=wi;v.prototype.drShiftTo=Ci;v.prototype.lShiftTo=Ai;v.prototype.rShiftTo=Ui;v.prototype.subTo=xi;v.prototype.multiplyTo=Ei;v.prototype.squareTo=Ti;v.prototype.divRemTo=Ii;v.prototype.invDigit=_i;v.prototype.addTo=Fi;v.prototype.toString=gi;v.prototype.negate=vi;v.prototype.abs=mi;v.prototype.compareTo=yi;v.prototype.bitLength=Si;v.prototype.mod=Di;v.prototype.equals=Ri;v.prototype.add=Pi;v.prototype.subtract=Bi;v.prototype.multiply=bi;v.prototype.divide=Oi;v.prototype.modPow=qi;v.ZERO=at(0);v.ONE=at(1);function ft(n){return N.Buffer.from(new Ze().random(n).toString(),"hex")}var Vi=/^[89a-f]/i,Hi="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",ji="userAttributes.",V=function(){function n(t){this.N=new C(Hi,16),this.g=new C("2",16),this.k=new C(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=N.Buffer.from("Caldera Derived Key","utf8"),this.poolName=t}var e=n.prototype;return e.getSmallAValue=function(){return this.smallAValue},e.getLargeAValue=function(r){var i=this;this.largeAValue?r(null,this.largeAValue):this.calculateA(this.smallAValue,function(o,s){o&&r(o,null),i.largeAValue=s,r(null,i.largeAValue)})},e.generateRandomSmallA=function(){var r=ft(128).toString("hex"),i=new C(r,16);return i},e.generateRandomString=function(){return ft(40).toString("base64")},e.getRandomPassword=function(){return this.randomPassword},e.getSaltDevices=function(){return this.SaltToHashDevices},e.getVerifierDevices=function(){return this.verifierDevices},e.generateHashDevice=function(r,i,o){var s=this;this.randomPassword=this.generateRandomString();var a=""+r+i+":"+this.randomPassword,u=this.hash(a),f=ft(16).toString("hex");this.SaltToHashDevices=this.padHex(new C(f,16)),this.g.modPow(new C(this.hexHash(this.SaltToHashDevices+u),16),this.N,function(h,l){h&&o(h,null),s.verifierDevices=s.padHex(l),o(null,null)})},e.calculateA=function(r,i){var o=this;this.g.modPow(r,this.N,function(s,a){s&&i(s,null),a.mod(o.N).equals(C.ZERO)&&i(new Error("Illegal paramater. A mod N cannot be 0."),null),i(null,a)})},e.calculateU=function(r,i){this.UHexHash=this.hexHash(this.padHex(r)+this.padHex(i));var o=new C(this.UHexHash,16);return o},e.hash=function(r){var i=new Re.Sha256;i.update(r);var o=i.digestSync(),s=N.Buffer.from(o).toString("hex");return new Array(64-s.length).join("0")+s},e.hexHash=function(r){return this.hash(N.Buffer.from(r,"hex"))},e.computehkdf=function(r,i){var o=N.Buffer.concat([this.infoBits,N.Buffer.from(String.fromCharCode(1),"utf8")]),s=new Re.Sha256(i);s.update(r);var a=s.digestSync(),u=new Re.Sha256(a);u.update(o);var f=u.digestSync(),h=f,l=h.slice(0,16);return l},e.getPasswordAuthenticationKey=function(r,i,o,s,a){var u=this;if(o.mod(this.N).equals(C.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,o),this.UValue.equals(C.ZERO))throw new Error("U cannot be zero.");var f=""+this.poolName+r+":"+i,h=this.hash(f),l=new C(this.hexHash(this.padHex(s)+h),16);this.calculateS(l,o,function(c,d){c&&a(c,null);var g=u.computehkdf(N.Buffer.from(u.padHex(d),"hex"),N.Buffer.from(u.padHex(u.UValue),"hex"));a(null,g)})},e.calculateS=function(r,i,o){var s=this;this.g.modPow(r,this.N,function(a,u){a&&o(a,null);var f=i.subtract(s.k.multiply(u));f.modPow(s.smallAValue.add(s.UValue.multiply(r)),s.N,function(h,l){h&&o(h,null),o(null,l.mod(s.N))})})},e.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return ji},e.padHex=function(r){if(!(r instanceof C))throw new Error("Not a BigInteger");var i=r.compareTo(C.ZERO)<0,o=r.abs().toString(16);if(o=o.length%2!==0?"0"+o:o,o=Vi.test(o)?"00"+o:o,i){var s=o.split("").map(function(u){var f=~parseInt(u,16)&15;return"0123456789ABCDEF".charAt(f)}).join(""),a=new C(s,16).add(C.ONE);o=a.toString(16),o.toUpperCase().startsWith("FF8")&&(o=o.substring(2))}return o},n}();var hr=L(Ce());var Fe=function(){function n(t){this.jwtToken=t||"",this.payload=this.decodePayload()}var e=n.prototype;return e.getJwtToken=function(){return this.jwtToken},e.getExpiration=function(){return this.payload.exp},e.getIssuedAt=function(){return this.payload.iat},e.decodePayload=function(){var r=this.jwtToken.split(".")[1];try{return JSON.parse(hr.Buffer.from(r,"base64").toString("utf8"))}catch{return{}}},n}();function Yi(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ht(n,e)}function ht(n,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ht(n,e)}var Pe=function(n){Yi(e,n);function e(t){var r=t===void 0?{}:t,i=r.AccessToken;return n.call(this,i||"")||this}return e}(Fe);function Wi(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ct(n,e)}function ct(n,e){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ct(n,e)}var Be=function(n){Wi(e,n);function e(t){var r=t===void 0?{}:t,i=r.IdToken;return n.call(this,i||"")||this}return e}(Fe);var be=function(){function n(t){var r=t===void 0?{}:t,i=r.RefreshToken;this.token=i||""}var e=n.prototype;return e.getToken=function(){return this.token},n}();var x=L(Ce()),dt=L(ot());var cr="5.0.4";var Gi="aws-amplify/"+cr,lt={userAgent:Gi,isReactNative:typeof navigator!="undefined"&&navigator.product==="ReactNative"},lr=function(){return lt.userAgent};var Oe=function(){function n(t){var r=t===void 0?{}:t,i=r.IdToken,o=r.RefreshToken,s=r.AccessToken,a=r.ClockDrift;if(s==null||i==null)throw new Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=o,this.accessToken=s,this.clockDrift=a===void 0?this.calculateClockDrift():a}var e=n.prototype;return e.getIdToken=function(){return this.idToken},e.getRefreshToken=function(){return this.refreshToken},e.getAccessToken=function(){return this.accessToken},e.getClockDrift=function(){return this.clockDrift},e.calculateClockDrift=function(){var r=Math.floor(new Date/1e3),i=Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt());return r-i},e.isValid=function(){var r=Math.floor(new Date/1e3),i=r-this.clockDrift;return i<this.accessToken.getExpiration()&&i<this.idToken.getExpiration()},n}();var Ji=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Zi=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Me=function(){function n(){}var e=n.prototype;return e.getNowString=function(){var r=new Date,i=Zi[r.getUTCDay()],o=Ji[r.getUTCMonth()],s=r.getUTCDate(),a=r.getUTCHours();a<10&&(a="0"+a);var u=r.getUTCMinutes();u<10&&(u="0"+u);var f=r.getUTCSeconds();f<10&&(f="0"+f);var h=r.getUTCFullYear(),l=i+" "+o+" "+s+" "+a+":"+u+":"+f+" UTC "+h;return l},n}();var pt=function(){function n(t){var r=t===void 0?{}:t,i=r.Name,o=r.Value;this.Name=i||"",this.Value=o||""}var e=n.prototype;return e.getValue=function(){return this.Value},e.setValue=function(r){return this.Value=r,this},e.getName=function(){return this.Name},e.setName=function(r){return this.Name=r,this},e.toString=function(){return JSON.stringify(this)},e.toJSON=function(){return{Name:this.Name,Value:this.Value}},n}();var Y={},Xi=function(){function n(){}return n.setItem=function(t,r){return Y[t]=r,Y[t]},n.getItem=function(t){return Object.prototype.hasOwnProperty.call(Y,t)?Y[t]:void 0},n.removeItem=function(t){return delete Y[t]},n.clear=function(){return Y={},Y},n}(),ke=function(){function n(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch{this.storageWindow=Xi}}var e=n.prototype;return e.getStorage=function(){return this.storageWindow},n}();var zi=typeof navigator!="undefined",pr=zi?lt.isReactNative?"react-native":navigator.userAgent:"nodejs",Q=function(){function n(t){if(t==null||t.Username==null||t.Pool==null)throw new Error("Username and Pool information are required.");this.username=t.Username||"",this.pool=t.Pool,this.Session=null,this.client=t.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=t.Storage||new ke().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var e=n.prototype;return e.setSignInUserSession=function(r){this.clearCachedUserData(),this.signInUserSession=r,this.cacheTokens()},e.getSignInUserSession=function(){return this.signInUserSession},e.getUsername=function(){return this.username},e.getAuthenticationFlowType=function(){return this.authenticationFlowType},e.setAuthenticationFlowType=function(r){this.authenticationFlowType=r},e.initiateAuth=function(r,i){var o=this,s=r.getAuthParameters();s.USERNAME=this.username;var a=Object.keys(r.getValidationData()).length!==0?r.getValidationData():r.getClientMetadata(),u={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:a};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",u,function(f,h){if(f)return i.onFailure(f);var l=h.ChallengeName,c=h.ChallengeParameters;return l==="CUSTOM_CHALLENGE"?(o.Session=h.Session,i.customChallenge(c)):(o.signInUserSession=o.getCognitoUserSession(h.AuthenticationResult),o.cacheTokens(),i.onSuccess(o.signInUserSession))})},e.authenticateUser=function(r,i){return this.authenticationFlowType==="USER_PASSWORD_AUTH"?this.authenticateUserPlainUsernamePassword(r,i):this.authenticationFlowType==="USER_SRP_AUTH"||this.authenticationFlowType==="CUSTOM_AUTH"?this.authenticateUserDefaultAuth(r,i):i.onFailure(new Error("Authentication flow type is invalid."))},e.authenticateUserDefaultAuth=function(r,i){var o=this,s=new V(this.pool.getUserPoolName()),a=new Me,u,f,h={};this.deviceKey!=null&&(h.DEVICE_KEY=this.deviceKey),h.USERNAME=this.username,s.getLargeAValue(function(l,c){l&&i.onFailure(l),h.SRP_A=c.toString(16),o.authenticationFlowType==="CUSTOM_AUTH"&&(h.CHALLENGE_NAME="SRP_A");var d=Object.keys(r.getValidationData()).length!==0?r.getValidationData():r.getClientMetadata(),g={AuthFlow:o.authenticationFlowType,ClientId:o.pool.getClientId(),AuthParameters:h,ClientMetadata:d};o.getUserContextData(o.username)&&(g.UserContextData=o.getUserContextData(o.username)),o.client.request("InitiateAuth",g,function(m,S){if(m)return i.onFailure(m);var y=S.ChallengeParameters;o.username=y.USER_ID_FOR_SRP,o.userDataKey=o.keyPrefix+"."+o.username+".userData",u=new C(y.SRP_B,16),f=new C(y.SALT,16),o.getCachedDeviceKeyAndPassword(),s.getPasswordAuthenticationKey(o.username,r.getPassword(),u,f,function(I,oe){I&&i.onFailure(I);var se=a.getNowString(),ae=x.Buffer.concat([x.Buffer.from(o.pool.getUserPoolName(),"utf8"),x.Buffer.from(o.username,"utf8"),x.Buffer.from(y.SECRET_BLOCK,"base64"),x.Buffer.from(se,"utf8")]),ue=new dt.Sha256(oe);ue.update(ae);var qe=ue.digestSync(),K=x.Buffer.from(qe).toString("base64"),b={};b.USERNAME=o.username,b.PASSWORD_CLAIM_SECRET_BLOCK=y.SECRET_BLOCK,b.TIMESTAMP=se,b.PASSWORD_CLAIM_SIGNATURE=K,o.deviceKey!=null&&(b.DEVICE_KEY=o.deviceKey);var fe=function ce(le,Ut){return o.client.request("RespondToAuthChallenge",le,function(pe,Fr){return pe&&pe.code==="ResourceNotFoundException"&&pe.message.toLowerCase().indexOf("device")!==-1?(b.DEVICE_KEY=null,o.deviceKey=null,o.randomPassword=null,o.deviceGroupKey=null,o.clearCachedDeviceKeyAndPassword(),ce(le,Ut)):Ut(pe,Fr)})},he={ChallengeName:"PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:b,Session:S.Session,ClientMetadata:d};o.getUserContextData()&&(he.UserContextData=o.getUserContextData()),fe(he,function(ce,le){return ce?i.onFailure(ce):o.authenticateUserInternal(le,s,i)})})})})},e.authenticateUserPlainUsernamePassword=function(r,i){var o=this,s={};if(s.USERNAME=this.username,s.PASSWORD=r.getPassword(),!s.PASSWORD){i.onFailure(new Error("PASSWORD parameter is required"));return}var a=new V(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(s.DEVICE_KEY=this.deviceKey);var u=Object.keys(r.getValidationData()).length!==0?r.getValidationData():r.getClientMetadata(),f={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:s,ClientMetadata:u};this.getUserContextData(this.username)&&(f.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",f,function(h,l){return h?i.onFailure(h):o.authenticateUserInternal(l,a,i)})},e.authenticateUserInternal=function(r,i,o){var s=this,a=r.ChallengeName,u=r.ChallengeParameters;if(a==="SMS_MFA")return this.Session=r.Session,o.mfaRequired(a,u);if(a==="SELECT_MFA_TYPE")return this.Session=r.Session,o.selectMFAType(a,u);if(a==="MFA_SETUP")return this.Session=r.Session,o.mfaSetup(a,u);if(a==="SOFTWARE_TOKEN_MFA")return this.Session=r.Session,o.totpRequired(a,u);if(a==="CUSTOM_CHALLENGE")return this.Session=r.Session,o.customChallenge(u);if(a==="NEW_PASSWORD_REQUIRED"){this.Session=r.Session;var f=null,h=null,l=[],c=i.getNewPasswordRequiredChallengeUserAttributePrefix();if(u&&(f=JSON.parse(r.ChallengeParameters.userAttributes),h=JSON.parse(r.ChallengeParameters.requiredAttributes)),h)for(var d=0;d<h.length;d++)l[d]=h[d].substr(c.length);return o.newPasswordRequired(f,l)}if(a==="DEVICE_SRP_AUTH"){this.Session=r.Session,this.getDeviceResponse(o);return}this.signInUserSession=this.getCognitoUserSession(r.AuthenticationResult),this.challengeName=a,this.cacheTokens();var g=r.AuthenticationResult.NewDeviceMetadata;if(g==null)return o.onSuccess(this.signInUserSession);i.generateHashDevice(r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(m){if(m)return o.onFailure(m);var S={Salt:x.Buffer.from(i.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:x.Buffer.from(i.getVerifierDevices(),"hex").toString("base64")};s.verifierDevices=S.PasswordVerifier,s.deviceGroupKey=g.DeviceGroupKey,s.randomPassword=i.getRandomPassword(),s.client.request("ConfirmDevice",{DeviceKey:g.DeviceKey,AccessToken:s.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:S,DeviceName:pr},function(y,I){return y?o.onFailure(y):(s.deviceKey=r.AuthenticationResult.NewDeviceMetadata.DeviceKey,s.cacheDeviceKeyAndPassword(),I.UserConfirmationNecessary===!0?o.onSuccess(s.signInUserSession,I.UserConfirmationNecessary):o.onSuccess(s.signInUserSession))})})},e.completeNewPasswordChallenge=function(r,i,o,s){var a=this;if(!r)return o.onFailure(new Error("New password is required."));var u=new V(this.pool.getUserPoolName()),f=u.getNewPasswordRequiredChallengeUserAttributePrefix(),h={};i&&Object.keys(i).forEach(function(c){h[f+c]=i[c]}),h.NEW_PASSWORD=r,h.USERNAME=this.username;var l={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:h,Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(c,d){return c?o.onFailure(c):a.authenticateUserInternal(d,u,o)})},e.getDeviceResponse=function(r,i){var o=this,s=new V(this.deviceGroupKey),a=new Me,u={};u.USERNAME=this.username,u.DEVICE_KEY=this.deviceKey,s.getLargeAValue(function(f,h){f&&r.onFailure(f),u.SRP_A=h.toString(16);var l={ChallengeName:"DEVICE_SRP_AUTH",ClientId:o.pool.getClientId(),ChallengeResponses:u,ClientMetadata:i,Session:o.Session};o.getUserContextData()&&(l.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",l,function(c,d){if(c)return r.onFailure(c);var g=d.ChallengeParameters,m=new C(g.SRP_B,16),S=new C(g.SALT,16);s.getPasswordAuthenticationKey(o.deviceKey,o.randomPassword,m,S,function(y,I){if(y)return r.onFailure(y);var oe=a.getNowString(),se=x.Buffer.concat([x.Buffer.from(o.deviceGroupKey,"utf8"),x.Buffer.from(o.deviceKey,"utf8"),x.Buffer.from(g.SECRET_BLOCK,"base64"),x.Buffer.from(oe,"utf8")]),ae=new dt.Sha256(I);ae.update(se);var ue=ae.digestSync(),qe=x.Buffer.from(ue).toString("base64"),K={};K.USERNAME=o.username,K.PASSWORD_CLAIM_SECRET_BLOCK=g.SECRET_BLOCK,K.TIMESTAMP=oe,K.PASSWORD_CLAIM_SIGNATURE=qe,K.DEVICE_KEY=o.deviceKey;var b={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:o.pool.getClientId(),ChallengeResponses:K,Session:d.Session};o.getUserContextData()&&(b.UserContextData=o.getUserContextData()),o.client.request("RespondToAuthChallenge",b,function(fe,he){return fe?r.onFailure(fe):(o.signInUserSession=o.getCognitoUserSession(he.AuthenticationResult),o.cacheTokens(),r.onSuccess(o.signInUserSession))})})})})},e.confirmRegistration=function(r,i,o,s){var a={ClientId:this.pool.getClientId(),ConfirmationCode:r,Username:this.username,ForceAliasCreation:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(u){return u?o(u,null):o(null,"SUCCESS")})},e.sendCustomChallengeAnswer=function(r,i,o){var s=this,a={};a.USERNAME=this.username,a.ANSWER=r;var u=new V(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),this.deviceKey!=null&&(a.DEVICE_KEY=this.deviceKey);var f={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:o};this.getUserContextData()&&(f.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",f,function(h,l){return h?i.onFailure(h):s.authenticateUserInternal(l,u,i)})},e.sendMFACode=function(r,i,o,s){var a=this,u={};u.USERNAME=this.username,u.SMS_MFA_CODE=r;var f=o||"SMS_MFA";f==="SOFTWARE_TOKEN_MFA"&&(u.SOFTWARE_TOKEN_MFA_CODE=r),this.deviceKey!=null&&(u.DEVICE_KEY=this.deviceKey);var h={ChallengeName:f,ChallengeResponses:u,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:s};this.getUserContextData()&&(h.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",h,function(l,c){if(l)return i.onFailure(l);var d=c.ChallengeName;if(d==="DEVICE_SRP_AUTH"){a.getDeviceResponse(i);return}if(a.signInUserSession=a.getCognitoUserSession(c.AuthenticationResult),a.cacheTokens(),c.AuthenticationResult.NewDeviceMetadata==null)return i.onSuccess(a.signInUserSession);var g=new V(a.pool.getUserPoolName());g.generateHashDevice(c.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,c.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(m){if(m)return i.onFailure(m);var S={Salt:x.Buffer.from(g.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:x.Buffer.from(g.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=S.PasswordVerifier,a.deviceGroupKey=c.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=g.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:c.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:S,DeviceName:pr},function(y,I){return y?i.onFailure(y):(a.deviceKey=c.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),I.UserConfirmationNecessary===!0?i.onSuccess(a.signInUserSession,I.UserConfirmationNecessary):i.onSuccess(a.signInUserSession))})})})},e.changePassword=function(r,i,o,s){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return o(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:r,ProposedPassword:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:s},function(a){return a?o(a,null):o(null,"SUCCESS")})},e.enableMFA=function(r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);var i=[],o={DeliveryMedium:"SMS",AttributeName:"phone_number"};i.push(o),this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?r(s,null):r(null,"SUCCESS")})},e.setUserMfaPreference=function(r,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:r,SoftwareTokenMfaSettings:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o(s,null):o(null,"SUCCESS")})},e.disableMFA=function(r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);var i=[];this.client.request("SetUserSettings",{MFAOptions:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?r(o,null):r(null,"SUCCESS")})},e.deleteUser=function(r,i){var o=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return r(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(s){return s?r(s,null):(o.clearCachedUser(),r(null,"SUCCESS"))})},e.updateAttributes=function(r,i,o){var s=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return i(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:r,ClientMetadata:o},function(a,u){return a?i(a,null):s.getUserData(function(){return i(null,"SUCCESS",u)},{bypassCache:!0})})},e.getUserAttributes=function(r){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return r(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){if(i)return r(i,null);for(var s=[],a=0;a<o.UserAttributes.length;a++){var u={Name:o.UserAttributes[a].Name,Value:o.UserAttributes[a].Value},f=new pt(u);s.push(f)}return r(null,s)})},e.getMFAOptions=function(r){if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return r(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i,o){return i?r(i,null):r(null,o.MFAOptions)})},e.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},e.refreshSessionIfPossible=function(r){var i=this;return r===void 0&&(r={}),new Promise(function(o){var s=i.signInUserSession.getRefreshToken();s&&s.getToken()?i.refreshSession(s,o,r.clientMetadata):o()})},e.getUserData=function(r,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return this.clearCachedUserData(),r(new Error("User is not authenticated"),null);var s=this.getUserDataFromCache();if(!s){this.fetchUserData().then(function(a){r(null,a)}).catch(r);return}if(this.isFetchUserDataAndTokenRequired(i)){this.fetchUserData().then(function(a){return o.refreshSessionIfPossible(i).then(function(){return a})}).then(function(a){return r(null,a)}).catch(r);return}try{r(null,JSON.parse(s));return}catch(a){this.clearCachedUserData(),r(a,null);return}},e.getUserDataFromCache=function(){var r=this.storage.getItem(this.userDataKey);return r},e.isFetchUserDataAndTokenRequired=function(r){var i=r||{},o=i.bypassCache,s=o===void 0?!1:o;return s},e.fetchUserData=function(){var r=this;return this.createGetUserRequest().then(function(i){return r.cacheUserData(i),i})},e.deleteAttributes=function(r,i){var o=this;if(!(this.signInUserSession!=null&&this.signInUserSession.isValid()))return i(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?i(s,null):o.getUserData(function(){return i(null,"SUCCESS")},{bypassCache:!0})})},e.resendConfirmationCode=function(r,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.client.request("ResendConfirmationCode",o,function(s,a){return s?r(s,null):r(null,a)})},e.getSession=function(r,i){if(i===void 0&&(i={}),this.username==null)return r(new Error("Username is null. Cannot retrieve a new session"),null);if(this.signInUserSession!=null&&this.signInUserSession.isValid())return r(null,this.signInUserSession);var o="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,s=o+".idToken",a=o+".accessToken",u=o+".refreshToken",f=o+".clockDrift";if(this.storage.getItem(s)){var h=new Be({IdToken:this.storage.getItem(s)}),l=new Pe({AccessToken:this.storage.getItem(a)}),c=new be({RefreshToken:this.storage.getItem(u)}),d=parseInt(this.storage.getItem(f),0)||0,g={IdToken:h,AccessToken:l,RefreshToken:c,ClockDrift:d},m=new Oe(g);if(m.isValid())return this.signInUserSession=m,r(null,this.signInUserSession);if(!c.getToken())return r(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,r,i.clientMetadata)}else r(new Error("Local storage is missing an ID Token, Please authenticate"),null)},e.refreshSession=function(r,i,o){var s=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(i):i,u={};u.REFRESH_TOKEN=r.getToken();var f="CognitoIdentityServiceProvider."+this.pool.getClientId(),h=f+".LastAuthUser";if(this.storage.getItem(h)){this.username=this.storage.getItem(h);var l=f+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(l),u.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:u,ClientMetadata:o};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(d,g){if(d)return d.code==="NotAuthorizedException"&&s.clearCachedUser(),a(d,null);if(g){var m=g.AuthenticationResult;return Object.prototype.hasOwnProperty.call(m,"RefreshToken")||(m.RefreshToken=r.getToken()),s.signInUserSession=s.getCognitoUserSession(m),s.cacheTokens(),a(null,s.signInUserSession)}})},e.cacheTokens=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=r+"."+this.username+".idToken",o=r+"."+this.username+".accessToken",s=r+"."+this.username+".refreshToken",a=r+"."+this.username+".clockDrift",u=r+".LastAuthUser";this.storage.setItem(i,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(o,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(s,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(u,this.username)},e.cacheUserData=function(r){this.storage.setItem(this.userDataKey,JSON.stringify(r))},e.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},e.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},e.cacheDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=r+".deviceKey",o=r+".randomPasswordKey",s=r+".deviceGroupKey";this.storage.setItem(i,this.deviceKey),this.storage.setItem(o,this.randomPassword),this.storage.setItem(s,this.deviceGroupKey)},e.getCachedDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=r+".deviceKey",o=r+".randomPasswordKey",s=r+".deviceGroupKey";this.storage.getItem(i)&&(this.deviceKey=this.storage.getItem(i),this.randomPassword=this.storage.getItem(o),this.deviceGroupKey=this.storage.getItem(s))},e.clearCachedDeviceKeyAndPassword=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,i=r+".deviceKey",o=r+".randomPasswordKey",s=r+".deviceGroupKey";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s)},e.clearCachedTokens=function(){var r="CognitoIdentityServiceProvider."+this.pool.getClientId(),i=r+"."+this.username+".idToken",o=r+"."+this.username+".accessToken",s=r+"."+this.username+".refreshToken",a=r+".LastAuthUser",u=r+"."+this.username+".clockDrift";this.storage.removeItem(i),this.storage.removeItem(o),this.storage.removeItem(s),this.storage.removeItem(a),this.storage.removeItem(u)},e.getCognitoUserSession=function(r){var i=new Be(r),o=new Pe(r),s=new be(r),a={IdToken:i,AccessToken:o,RefreshToken:s};return new Oe(a)},e.forgotPassword=function(r,i){var o={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",o,function(s,a){return s?r.onFailure(s):typeof r.inputVerificationCode=="function"?r.inputVerificationCode(a):r.onSuccess(a)})},e.confirmPassword=function(r,i,o,s){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:r,Password:i,ClientMetadata:s};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(u){return u?o.onFailure(u):o.onSuccess("SUCCESS")})},e.getAttributeVerificationCode=function(r,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:r,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:o},function(s,a){return s?i.onFailure(s):typeof i.inputVerificationCode=="function"?i.inputVerificationCode(a):i.onSuccess("SUCCESS")})},e.verifyAttribute=function(r,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:r,Code:i,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(s){return s?o.onFailure(s):o.onSuccess("SUCCESS")})},e.getDevice=function(r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(i,o){return i?r.onFailure(i):r.onSuccess(o)})},e.forgetSpecificDevice=function(r,i){if(this.signInUserSession==null||!this.signInUserSession.isValid())return i.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:r},function(o){return o?i.onFailure(o):i.onSuccess("SUCCESS")})},e.forgetDevice=function(r){var i=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:r.onFailure,onSuccess:function(s){return i.deviceKey=null,i.deviceGroupKey=null,i.randomPassword=null,i.clearCachedDeviceKeyAndPassword(),r.onSuccess(s)}})},e.setDeviceStatusRemembered=function(r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(i){return i?r.onFailure(i):r.onSuccess("SUCCESS")})},e.setDeviceStatusNotRemembered=function(r){if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(i){return i?r.onFailure(i):r.onSuccess("SUCCESS")})},e.listDevices=function(r,i,o){if(this.signInUserSession==null||!this.signInUserSession.isValid())return o.onFailure(new Error("User is not authenticated"));var s={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:r};i&&(s.PaginationToken=i),this.client.request("ListDevices",s,function(a,u){return a?o.onFailure(a):o.onSuccess(u)})},e.globalSignOut=function(r){var i=this;if(this.signInUserSession==null||!this.signInUserSession.isValid())return r.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o){return o?r.onFailure(o):(i.clearCachedUser(),r.onSuccess("SUCCESS"))})},e.signOut=function(r){var i=this;if(!r||typeof r!="function"){this.cleanClientData();return}this.getSession(function(o,s){if(o)return r(o);i.revokeTokens(function(a){i.cleanClientData(),r(a)})})},e.revokeTokens=function(r){if(r===void 0&&(r=function(){}),typeof r!="function")throw new Error("Invalid revokeTokenCallback. It should be a function.");var i=[];if(!this.signInUserSession){var o=new Error("User is not authenticated");return r(o)}if(!this.signInUserSession.getAccessToken()){var s=new Error("No Access token available");return r(s)}var a=this.signInUserSession.getRefreshToken().getToken(),u=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(u)&&a)return this.revokeToken({token:a,callback:r});r()},e.isSessionRevocable=function(r){if(r&&typeof r.decodePayload=="function")try{var i=r.decodePayload(),o=i.origin_jti;return!!o}catch{}return!1},e.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},e.revokeToken=function(r){var i=r.token,o=r.callback;this.client.requestWithRetry("RevokeToken",{Token:i,ClientId:this.pool.getClientId()},function(s){if(s)return o(s);o()})},e.sendMFASelectionAnswer=function(r,i){var o=this,s={};s.USERNAME=this.username,s.ANSWER=r;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:s,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(u,f){if(u)return i.onFailure(u);if(o.Session=f.Session,r==="SMS_MFA")return i.mfaRequired(f.ChallengeName,f.ChallengeParameters);if(r==="SOFTWARE_TOKEN_MFA")return i.totpRequired(f.ChallengeName,f.ChallengeParameters)})},e.getUserContextData=function(){var r=this.pool;return r.getUserContextData(this.username)},e.associateSoftwareToken=function(r){var i=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(o,s){return o?r.onFailure(o):r.associateSecretCode(s.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(o,s){return o?r.onFailure(o):(i.Session=s.Session,r.associateSecretCode(s.SecretCode))})},e.verifySoftwareToken=function(r,i,o){var s=this;this.signInUserSession!=null&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:r,FriendlyDeviceName:i},function(a,u){return a?o.onFailure(a):o.onSuccess(u)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:r,FriendlyDeviceName:i},function(a,u){if(a)return o.onFailure(a);s.Session=u.Session;var f={};f.USERNAME=s.username;var h={ChallengeName:"MFA_SETUP",ClientId:s.pool.getClientId(),ChallengeResponses:f,Session:s.Session};s.getUserContextData()&&(h.UserContextData=s.getUserContextData()),s.client.request("RespondToAuthChallenge",h,function(l,c){return l?o.onFailure(l):(s.signInUserSession=s.getCognitoUserSession(c.AuthenticationResult),s.cacheTokens(),o.onSuccess(s.signInUserSession))})})},n}();var Ts=L(vr());function ee(){}ee.prototype.userAgent=lr();var mr=function(e){var t=ee.category?" "+ee.category:"",r=ee.framework?" framework/"+ee.framework:"",i=""+ee.prototype.userAgent+t+r;return i};function $i(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,ne(n,e)}function vt(n){var e=typeof Map=="function"?new Map:void 0;return vt=function(r){if(r===null||!eo(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Ke(r,arguments,mt(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),ne(i,r)},vt(n)}function Ke(n,e,t){return Qi()?Ke=Reflect.construct.bind():Ke=function(i,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(i,a),f=new u;return s&&ne(f,s.prototype),f},Ke.apply(null,arguments)}function Qi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eo(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function ne(n,e){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ne(n,e)}function mt(n){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mt(n)}var to=function(n){$i(e,n);function e(t,r,i,o){var s;return s=n.call(this,t)||this,s.code=r,s.name=i,s.statusCode=o,s}return e}(vt(Error)),yr=function(){function n(t,r,i){this.endpoint=r||"https://cognito-idp."+t+".amazonaws.com/";var o=i||{},s=o.credentials;this.fetchOptions=s?{credentials:s}:{}}var e=n.prototype;return e.promisifyRequest=function(r,i){var o=this;return new Promise(function(s,a){o.request(r,i,function(u,f){u?a(new to(u.message,u.code,u.name,u.statusCode)):s(f)})})},e.requestWithRetry=function(r,i,o){var s=this,a=5*1e3;oo(function(u){return new Promise(function(f,h){s.request(r,u,function(l,c){l?h(l):f(c)})})},[i],a).then(function(u){return o(null,u)}).catch(function(u){return o(u)})},e.request=function(r,i,o){var s={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+r,"X-Amz-User-Agent":mr(),"Cache-Control":"no-store"},a=Object.assign({},this.fetchOptions,{headers:s,method:"POST",mode:"cors",body:JSON.stringify(i)}),u,f;fetch(this.endpoint,a).then(function(h){return u=h,h},function(h){throw h instanceof TypeError?new Error("Network error"):h}).then(function(h){return h.json().catch(function(){return{}})}).then(function(h){if(u.ok)return o(null,h);f=h;var l=(h.__type||h.code).split("#").pop(),c=new Error(h.message||h.Message||null);return c.name=l,c.code=l,o(c)}).catch(function(h){if(u&&u.headers&&u.headers.get("x-amzn-errortype"))try{var l=u.headers.get("x-amzn-errortype").split(":")[0],c=new Error(u.status?u.status.toString():null);return c.code=l,c.name=l,c.statusCode=u.status,o(c)}catch{return o(h)}else h instanceof Error&&h.message==="Network error"&&(h.code="NetworkError");return o(h)})},n}();var Ne={debug:function(){}};var ro=function(e){var t="nonRetryable";return e&&e[t]};function Sr(n,e,t,r){if(r===void 0&&(r=1),typeof n!="function")throw Error("functionToRetry must be a function");return Ne.debug(n.name+" attempt #"+r+" with args: "+JSON.stringify(e)),n.apply(void 0,e).catch(function(i){if(Ne.debug("error on "+n.name,i),ro(i))throw Ne.debug(n.name+" non retryable error",i),i;var o=t(r,e,i);if(Ne.debug(n.name+" retrying in "+o+" ms"),o!==!1)return new Promise(function(s){return setTimeout(s,o)}).then(function(){return Sr(n,e,t,r+1)});throw i})}function no(n){var e=100,t=100;return function(r){var i=Math.pow(2,r)*e+t*Math.random();return i>n?!1:i}}var io=5*60*1e3;function oo(n,e,t){return t===void 0&&(t=io),Sr(n,e,no(t))}var so=55,yt=function(){function n(t,r){var i=t||{},o=i.UserPoolId,s=i.ClientId,a=i.endpoint,u=i.fetchOptions,f=i.AdvancedSecurityDataCollectionFlag;if(!o||!s)throw new Error("Both UserPoolId and ClientId are required.");if(o.length>so||!/^[\w-]+_[0-9a-zA-Z]+$/.test(o))throw new Error("Invalid UserPoolId format.");var h=o.split("_")[0];this.userPoolId=o,this.clientId=s,this.client=new yr(h,a,u),this.advancedSecurityDataCollectionFlag=f!==!1,this.storage=t.Storage||new ke().getStorage(),r&&(this.wrapRefreshSessionCallback=r)}var e=n.prototype;return e.getUserPoolId=function(){return this.userPoolId},e.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},e.getClientId=function(){return this.clientId},e.signUp=function(r,i,o,s,a,u){var f=this,h={ClientId:this.clientId,Username:r,Password:i,UserAttributes:o,ValidationData:s,ClientMetadata:u};this.getUserContextData(r)&&(h.UserContextData=this.getUserContextData(r)),this.client.request("SignUp",h,function(l,c){if(l)return a(l,null);var d={Username:r,Pool:f,Storage:f.storage},g={user:new Q(d),userConfirmed:c.UserConfirmed,userSub:c.UserSub,codeDeliveryDetails:c.CodeDeliveryDetails};return a(null,g)})},e.getCurrentUser=function(){var r="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",i=this.storage.getItem(r);if(i){var o={Username:i,Pool:this,Storage:this.storage};return new Q(o)}return null},e.getUserContextData=function(r){if(typeof AmazonCognitoAdvancedSecurityData!="undefined"){var i=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var o=i.getData(r,this.userPoolId,this.clientId);if(o){var s={EncodedData:o};return s}}return{}}},n}();var St=L(Ar());var Ur=()=>process.env.NEXT_PUBLIC_CLIENT_ID;var E=L(_r(),1),ie=class extends yt{getIsSocial(){return(0,E.hasCookie)("social")?(0,E.getCookie)("social")=="true":!1}setIsSocial(e){(0,E.setCookie)("social",e?"true":"false",{maxAge:60*60*24})}getIsSignedIn(){return(0,E.hasCookie)("signedin")?(0,E.getCookie)("signedin")=="true":!1}setIsSignedIn(e){(0,E.setCookie)("signedin",e?"true":"false",{maxAge:60*60*24})}getIdToken(){var t;if((0,E.hasCookie)("idToken")){let r=(t=(0,E.getCookie)("idToken"))==null?void 0:t.toString();if(r)return r}return""}clearTokens(){(0,E.deleteCookie)("signedin"),(0,E.deleteCookie)("social"),(0,E.deleteCookie)("accessToken"),(0,E.deleteCookie)("idToken"),(0,E.deleteCookie)("refreshToken")}};var wo={UserPoolId:"us-east-2_wPaTYfXEh",ClientId:Ur()},Rr=new ie(wo);window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let n=new Q({Username:"e.fisher@computer.org",Pool:Rr}),e=document.getElementById("default-id");e&&(e.onclick=function(){let t=document.getElementById("field-name-notsure");if(t){t.value=n.getUsername();try{throw alert("in try."),new Error("too dumb")}catch(r){alert(r.stack)}}})});})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

js-cookie/src/js.cookie.js:
  (*!
   * JavaScript Cookie v2.2.1
   * https://github.com/js-cookie/js-cookie
   *
   * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
   * Released under the MIT license
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

amazon-cognito-identity-js/es/AuthenticationDetails.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/AuthenticationHelper.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoJwtToken.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoAccessToken.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoIdToken.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoRefreshToken.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/Platform/index.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoUserSession.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/DateHelper.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoUserAttribute.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/StorageHelper.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoUser.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/CognitoUserPool.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)

amazon-cognito-identity-js/es/index.js:
  (*!
   * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
